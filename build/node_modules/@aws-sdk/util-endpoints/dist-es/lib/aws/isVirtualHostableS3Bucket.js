"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.isVirtualHostableS3Bucket = void 0;
var _utilEndpoints = require("@smithy/util-endpoints");
var _isIpAddress = require("../isIpAddress");
const isVirtualHostableS3Bucket = (value, allowSubDomains = false) => {
  if (allowSubDomains) {
    for (const label of value.split(".")) {
      if (!isVirtualHostableS3Bucket(label)) {
        return false;
      }
    }
    return true;
  }
  if (!(0, _utilEndpoints.isValidHostLabel)(value)) {
    return false;
  }
  if (value.length < 3 || value.length > 63) {
    return false;
  }
  if (value !== value.toLowerCase()) {
    return false;
  }
  if ((0, _isIpAddress.isIpAddress)(value)) {
    return false;
  }
  return true;
};
exports.isVirtualHostableS3Bucket = isVirtualHostableS3Bucket;