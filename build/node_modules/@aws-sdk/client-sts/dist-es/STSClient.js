"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.STSClient = void 0;
Object.defineProperty(exports, "__Client", {
  enumerable: true,
  get: function () {
    return _smithyClient.Client;
  }
});
var _middlewareHostHeader = require("@aws-sdk/middleware-host-header");
var _middlewareLogger = require("@aws-sdk/middleware-logger");
var _middlewareRecursionDetection = require("@aws-sdk/middleware-recursion-detection");
var _middlewareSdkSts = require("@aws-sdk/middleware-sdk-sts");
var _middlewareUserAgent = require("@aws-sdk/middleware-user-agent");
var _configResolver = require("@smithy/config-resolver");
var _middlewareContentLength = require("@smithy/middleware-content-length");
var _middlewareEndpoint = require("@smithy/middleware-endpoint");
var _middlewareRetry = require("@smithy/middleware-retry");
var _smithyClient = require("@smithy/smithy-client");
var _EndpointParameters = require("./endpoint/EndpointParameters");
var _runtimeConfig = require("./runtimeConfig");
var _runtimeExtensions = require("./runtimeExtensions");
class STSClient extends _smithyClient.Client {
  constructor(...[configuration]) {
    const _config_0 = (0, _runtimeConfig.getRuntimeConfig)(configuration || {});
    const _config_1 = (0, _EndpointParameters.resolveClientEndpointParameters)(_config_0);
    const _config_2 = (0, _configResolver.resolveRegionConfig)(_config_1);
    const _config_3 = (0, _middlewareEndpoint.resolveEndpointConfig)(_config_2);
    const _config_4 = (0, _middlewareRetry.resolveRetryConfig)(_config_3);
    const _config_5 = (0, _middlewareHostHeader.resolveHostHeaderConfig)(_config_4);
    const _config_6 = (0, _middlewareSdkSts.resolveStsAuthConfig)(_config_5, {
      stsClientCtor: STSClient
    });
    const _config_7 = (0, _middlewareUserAgent.resolveUserAgentConfig)(_config_6);
    const _config_8 = (0, _runtimeExtensions.resolveRuntimeExtensions)(_config_7, (configuration === null || configuration === void 0 ? void 0 : configuration.extensions) || []);
    super(_config_8);
    this.config = _config_8;
    this.middlewareStack.use((0, _middlewareRetry.getRetryPlugin)(this.config));
    this.middlewareStack.use((0, _middlewareContentLength.getContentLengthPlugin)(this.config));
    this.middlewareStack.use((0, _middlewareHostHeader.getHostHeaderPlugin)(this.config));
    this.middlewareStack.use((0, _middlewareLogger.getLoggerPlugin)(this.config));
    this.middlewareStack.use((0, _middlewareRecursionDetection.getRecursionDetectionPlugin)(this.config));
    this.middlewareStack.use((0, _middlewareUserAgent.getUserAgentPlugin)(this.config));
  }
  destroy() {
    super.destroy();
  }
}
exports.STSClient = STSClient;