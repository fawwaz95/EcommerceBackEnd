"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.defaultUserAgent = void 0;
var _bowser = _interopRequireDefault(require("bowser"));
const defaultUserAgent = ({
  serviceId,
  clientVersion
}) => async () => {
  var _window, _parsedUA$os, _parsedUA$os2, _parsedUA$browser, _parsedUA$browser2;
  const parsedUA = typeof window !== "undefined" && (_window = window) !== null && _window !== void 0 && (_window = _window.navigator) !== null && _window !== void 0 && _window.userAgent ? _bowser.default.parse(window.navigator.userAgent) : undefined;
  const sections = [["aws-sdk-js", clientVersion], ["ua", "2.0"], [`os/${(parsedUA === null || parsedUA === void 0 || (_parsedUA$os = parsedUA.os) === null || _parsedUA$os === void 0 ? void 0 : _parsedUA$os.name) || "other"}`, parsedUA === null || parsedUA === void 0 || (_parsedUA$os2 = parsedUA.os) === null || _parsedUA$os2 === void 0 ? void 0 : _parsedUA$os2.version], ["lang/js"], ["md/browser", `${(parsedUA === null || parsedUA === void 0 || (_parsedUA$browser = parsedUA.browser) === null || _parsedUA$browser === void 0 ? void 0 : _parsedUA$browser.name) ?? "unknown"}_${(parsedUA === null || parsedUA === void 0 || (_parsedUA$browser2 = parsedUA.browser) === null || _parsedUA$browser2 === void 0 ? void 0 : _parsedUA$browser2.version) ?? "unknown"}`]];
  if (serviceId) {
    sections.push([`api/${serviceId}`, clientVersion]);
  }
  return sections;
};
exports.defaultUserAgent = defaultUserAgent;