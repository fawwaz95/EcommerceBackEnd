"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.resolveCredentialSource = void 0;
var _credentialProviderEnv = require("@aws-sdk/credential-provider-env");
var _credentialProviderImds = require("@smithy/credential-provider-imds");
var _propertyProvider = require("@smithy/property-provider");
const resolveCredentialSource = (credentialSource, profileName) => {
  const sourceProvidersMap = {
    EcsContainer: _credentialProviderImds.fromContainerMetadata,
    Ec2InstanceMetadata: _credentialProviderImds.fromInstanceMetadata,
    Environment: _credentialProviderEnv.fromEnv
  };
  if (credentialSource in sourceProvidersMap) {
    return sourceProvidersMap[credentialSource]();
  } else {
    throw new _propertyProvider.CredentialsProviderError(`Unsupported credential source in profile ${profileName}. Got ${credentialSource}, ` + `expected EcsContainer or Ec2InstanceMetadata or Environment.`);
  }
};
exports.resolveCredentialSource = resolveCredentialSource;